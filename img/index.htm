<html>
<head>
<title>Btc.Pics/img for Nostr</title>
<meta charset="UTF-8">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=0.9">
<base target="_blank" />
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c65dd7d15ecfb3a23baf04543045f8b8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<style>
A:visited {
	COLOR: #006600; TEXT-DECORATION: none
}
A:active {
	COLOR: #006600; TEXT-DECORATION: none
}
A:link {
	COLOR:#002800; TEXT-DECORATION: none
}
A:hover {
	COLOR: #ff6600; text-deroration: none;
position: relative; left: 1px; top: 1px; clip:rect(   )
}
input{
width:100%;
font-size:32px;
}
</style>
</head>
<body>
<input id="imgs1" type="text" style="width:38%" value="BTC.pics/IMG ：https://8nostr.com/cndx/" onclick="getimg('src1',this.value)" onkeyup="getimg('src1',this.value)" onchange="getimg('src1',this.value)"><span style="width:61%;float:right"><a href="https://8nostr.com/">  8Nostr </a><a href="https://www.nostr.guru/">  <img height="24" src="https://www.nostr.guru/_next/image?url=%2Flogo.jpg&w=48&q=75" /> Gateway</a><input id="getways" style="width:70%;float:right" type="text" value="" onPaste="getway(this.value)" onkeyup="getway(this.value)" onchange="getway(this.value)"></span><div id="src1"></div><script>
function getway(code){
if(code.substr(0,7)!="nevent1"){
ur=code.split("nevent1");
noteids="";
for(i=1;i<ur.length;i++){
urls="nevent1"+ur[i];
urls=urls.replace("\\n"," ").replace("\n"," ");
u=urls.split(" ");
document.getElementById("getways").value=u[0];
noteids=noteids+"<br>"+u[0]+"<br>";
}
document.getElementById("src1").innerHTML=noteids;
}}
</script>
<br><br>
<input id="iris" type="text" style="background-color:#CCFFCC" value="https://imgproxy.iris.to/insecure/plain/">
<br><br>
<input id="imgs2" type="text" value="" onPaste="getimg('src2',this.value)" onkeyup="getimg('src2',this.value)" onchange="getimg('src2',this.value)"><div id="src2"></div>
<br>
<input id="imgs3" type="text" value="" onkeyup="getimg('src3',this.value)" onchange="getimg('src3',this.value)"><div id="src3"></div>
<br><br>
<input id="imgs4" type="text" value="" onkeyup="getimg('src4',this.value)" onchange="getimg('src4',this.value)"><div id="src4"></div>
<br><br>
<input id="imgs5" type="text" value="" onkeyup="getimg('src5',this.value)" onchange="getimg('src5',this.value)"><div id="src5"></div>
<br><br>
<input id="imgs6" type="text" value="" onkeyup="getimg('src6',this.value)" onchange="getimg('src6',this.value)"><div id="src6"></div>
<br><br>
<input id="imgs7" type="text" value="" onkeyup="getimg('src7',this.value)" onchange="getimg('src7',this.value)"><div id="src7"></div>
<br><br>
<input id="imgs8" type="text" value="" onkeyup="getimg('src8',this.value)" onchange="getimg('src8',this.value)"><div id="src8"></div>
<br>
<div id="moreinput"></div>
<input id="allnums" style="width:48%;text-align:center;" value="30"> <button style="width:48%;font-size:32px;" onclick="addmore()">More Inputs</button>
<script>
function addmore(){
var inputstr="";
for(i=8;i<1+1*document.getElementById("allnums").value;i++){
inputstr=inputstr+'<input id="imgs'+i+'" type="text" value="" onkeyup="getimg(\'src'+i+'\',this.value)" onchange="getimg(\'src'+i+'\',this.value)"><div id="src'+i+'">'+i+'</div>';
}
document.getElementById("moreinput").innerHTML=inputstr;
}

let now = new Date();
document.getElementById("imgs1").value="BTC.pics/IMG ：https://8nostr.com/cndx/?"+now.toLocaleDateString()+now.toLocaleTimeString();
function getimg(divid,urls){
if(urls.length>1000){
urls=urls.replace(/\"/g," ");
ur=urls.split(" ");
for(i=0;i<ur.length;i++){
if(ur[i].length>1000){
urls=ur[i].length+"<br><img style='max-width:100%' src='data:image/webp;base64,"+ur[i]+"' /><br>";
break;
}
}
}
if(urls==urls){
ur=urls.split("http");
if(ur.length==2){
urls="http"+ur[1];
urls=document.getElementById("iris").value+urls;
urls=urls.replace("\\n"," ").replace("\n"," ");
u=urls.split(" ");
urls=u[0];
urls=urls+"<br><img style='max-width:100%' src='"+urls+"' />";
}
if(ur.length>2){
urls="";
for(i=1;i<ur.length;i++){
urlstmp="http"+ur[i];
urlstmp=urlstmp.replace("\\n"," ").replace("\n"," ");
u=urlstmp.split(" ");
urlstmp=u[0];
  if(urlstmp==urlstmp.replace("imgproxy.iris.to","")){
urlstmp=document.getElementById("iris").value+urlstmp;
urls=urls+urlstmp+"<br><img style='max-width:100%' src='"+urlstmp+"' /><br>";
}}
}}
document.getElementById(divid).innerHTML=urls;
}


r=100;g=160;b=100;
r1=r+Math.floor(Math.random()*(255-r));
g1=g+Math.floor(Math.random()*(255-g));
b1=b+Math.floor(Math.random()*(255-b));
r2=r+Math.floor(Math.random()*(255-r));
g2=g+Math.floor(Math.random()*(255-g));
b2=b+Math.floor(Math.random()*(255-b));
r3=r+Math.floor(Math.random()*(255-r));
g3=g+Math.floor(Math.random()*(255-g));
b3=b+Math.floor(Math.random()*(255-b));
background="white linear-gradient(120deg,rgb("+r1+", "+g1+", "+b1+"),rgb("+r2+", "+g2+", "+b2+"),rgb("+r3+","+g2+", "+b3+"))";
document.body.style.background=background;
</script>
</body>
</html>
